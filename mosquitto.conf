# Configuração Eclipse Mosquitto otimizada para baixa latência no Railway
listener 1883 0.0.0.0
protocol mqtt

listener 9001 0.0.0.0
protocol websockets

# Autenticação
allow_anonymous false
password_file /mosquitto/config/password_file

# Desabilita persistência para melhorar latência
persistence false

# Configurações de performance para baixa latência
max_keepalive 30
max_inflight_messages 100
max_inflight_bytes 0
max_queued_messages 1000
max_queued_bytes 0
max_packet_size 0
max_qos_level 1
queue_qos0_messages false

# Socket options para baixa latência
set_tcp_nodelay true

# Configurações de conexão
max_connections -1
autosave_interval 0
retry_interval 20
sys_interval 10

# Logging otimizado
log_dest stdout
log_type error
log_type warning
log_type notice